(function(){"use strict";var t={3652:function(t,e,n){var s=n(9242),o=n(6265),a=n.n(o),i=n(6423),r=n(6216);function c(t){const e=new Date(1e3*t);return e.toLocaleDateString()}function l(t){const e=parseInt(t,10);return`${e.toFixed(0).replace(/./g,((t,e,n)=>e&&"."!==t&&(n.length-e)%3===0?`, ${t}`.replace(/\s/g,""):t))}`}var d=n(5820);function u(t,e="更新"){if(t.data.success)d.Z.emit("push-message",{style:"success",title:`${e}成功`});else{const n="string"===typeof t.data.message?[t.data.message]:t.data.message;d.Z.emit("push-message",{style:"danger",title:`${e}失敗`,content:n.join("、")})}}var p=n(5708),m=n(3990),h=n(579),g=n(2389),f=n(3396);function v(t,e){const n=(0,f.up)("router-view");return(0,f.wg)(),(0,f.j4)(n)}var w=n(89);const b={},_=(0,w.Z)(b,[["render",v]]);var y=_,k=n(678),C=n(7139);const x={class:"banner"},L={class:"img-carousel"},D=(0,f._)("ul",{class:"img-carousel-list"},[(0,f._)("li",{class:"bg-1 animate"}),(0,f._)("li",{class:"bg-2 animate"})],-1),M={class:"title mb-1"},U=(0,f._)("i",{class:"bi bi-arrow-down-short"},null,-1),Z={class:"my-5",id:"product-card"},$={class:"container"},W={class:"my-5 py-5",id:"news"},j={class:"container"},z={class:"my-5 py-5",id:"location"},N={class:"container"},O=(0,f._)("div",{class:"loading-icon"},null,-1),S=(0,f._)("p",{class:"fs-1"},"Loading...",-1),P=[O,S];function T(t,e,n,s,o,a){const i=(0,f.up)("navbar-component"),r=(0,f.up)("router-link"),c=(0,f.up)("product-card"),l=(0,f.up)("news-section"),d=(0,f.up)("location-section"),u=(0,f.up)("footer-component");return(0,f.wg)(),(0,f.iD)(f.HY,null,[(0,f.Wm)(i),(0,f._)("section",x,[(0,f._)("div",L,[D,(0,f._)("div",M,[(0,f._)("h2",null,(0,C.zw)(o.msg.title1),1),(0,f._)("h3",null,(0,C.zw)(o.msg.title2),1),(0,f._)("h4",null,(0,C.zw)(o.msg.content),1),(0,f.Wm)(r,{class:"btn btn-success",to:"/user/product"},{default:(0,f.w5)((()=>[(0,f.Uk)((0,C.zw)(o.msg.btn),1)])),_:1})]),U])]),(0,f._)("section",Z,[(0,f._)("div",$,[(0,f.Wm)(c)])]),(0,f._)("section",W,[(0,f._)("div",j,[(0,f.Wm)(l)])]),(0,f._)("section",z,[(0,f._)("div",N,[(0,f.Wm)(d)])]),(0,f.Wm)(u),(0,f._)("div",{class:(0,C.C_)(["loading",{none:!o.isLoading}])},P,2)],64)}var A=n(9429),E=n(334),q=n(4700),H=n.p+"img/car-2.5590e91d.jpg",B=n(154);const I=(0,f._)("h3",{class:"section-title location"},"發車資訊",-1),Y=(0,f._)("div",{class:"row py-5"},[(0,f._)("div",{class:"col-12 col-md-6"},[(0,f._)("div",{id:"address"},[(0,f._)("div",{class:"card"},[(0,f._)("img",{src:H,class:"card-img-top",alt:"..."}),(0,f._)("div",{class:"card-body"},[(0,f._)("h5",{class:"card-title"},[(0,f._)("img",{src:B,alt:"",class:"logo"}),(0,f.Uk)(" 塔可餅車車")]),(0,f._)("p",{class:"card-text ps-5"},[(0,f.Uk)("本車位置: 台中市西屯區中科路2966號周邊 "),(0,f._)("br"),(0,f._)("small",{class:"text-muted"},"(隨老闆心情更換位置)")]),(0,f._)("p",{class:"card-text ps-5"},[(0,f.Uk)("本車電話:0912-345-678 "),(0,f._)("br"),(0,f._)("small",{class:"text-muted"},"(隨老闆心情接電話)")]),(0,f._)("p",{class:"card-text ps-5"},[(0,f.Uk)("發車時間:09:00 ~ 20:00 ，週三公休 "),(0,f._)("br"),(0,f._)("small",{class:"text-muted"},"(隨老闆心情開店)")])])])])]),(0,f._)("div",{class:"col-12 col-md-6"},[(0,f._)("iframe",{src:"https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d5000.802794333556!2d120.65662839665806!3d24.18164790307173!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1szh-TW!2stw!4v1654572679375!5m2!1szh-TW!2stw",width:"600",height:"620",style:{border:"0"},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"})])],-1);function F(t,e){return(0,f.wg)(),(0,f.iD)(f.HY,null,[I,Y],64)}const V={},K=(0,w.Z)(V,[["render",F]]);var G=K;const Q=(0,f._)("h3",{class:"section-title news"},"最新消息",-1),X={class:"row position-relative py-5"},J={class:"table table-light table-striped"},R={width:"50"},tt={key:0,class:"text-danger"},et={class:"news-link",href:"/news"},nt={class:"text-end mt-5"},st=(0,f.Uk)("更多消息?");function ot(t,e,n,s,o,a){const i=(0,f.up)("router-link");return(0,f.wg)(),(0,f.iD)(f.HY,null,[Q,(0,f._)("div",X,[(0,f._)("table",J,[(0,f._)("tbody",null,[((0,f.wg)(!0),(0,f.iD)(f.HY,null,(0,f.Ko)(o.news,((e,n)=>((0,f.wg)(),(0,f.iD)("tr",{key:e},[(0,f._)("td",null,(0,C.zw)(t.$filters.date(e.create_at)),1),(0,f._)("td",null,(0,C.zw)(e.tag),1),(0,f._)("td",R,[n<1?((0,f.wg)(),(0,f.iD)("span",tt,"New!!")):(0,f.kq)("",!0)]),(0,f._)("td",null,[(0,f._)("a",et,(0,C.zw)(e.title),1)])])))),128))])]),(0,f._)("div",nt,[(0,f.Wm)(i,{class:"btn-more",to:"/news"},{default:(0,f.w5)((()=>[st])),_:1})])])],64)}var at={data(){return{news:{}}},methods:{getNews(t=1){const e=`https://vue3-course-api.hexschool.io/api/steven-vue3-demo/articles?page=${t}`;this.isLoading=!0,this.$http.get(e).then((t=>{console.log(t.data.articles),this.isLoading=!1,t.data.success&&(this.news=t.data.articles)}))}},created(){this.getNews()}};const it=(0,w.Z)(at,[["render",ot]]);var rt=it,ct={data(){return{isLogin:!1,isLoading:!0,msg:{title1:"Choo Choo Tacos 塔可餅車車",title2:"美墨快餐車",content:"美味、方便、快速",btn:"趕快上車"}}},components:{NavbarComponent:A.Z,FooterComponent:E.Z,ProductCard:q.Z,LocationSection:G,NewsSection:rt},mounted(){setTimeout((()=>{this.isLoading=!1}),3e3)}};const lt=(0,w.Z)(ct,[["render",T]]);var dt=lt;const ut=[{path:"/",name:"home",component:dt,meta:{title:"塔可餅車車"}},{path:"/login",component:()=>n.e(474).then(n.bind(n,9474)),meta:{title:"後臺登入"}},{path:"/dashboard",component:()=>n.e(144).then(n.bind(n,2144)),meta:{title:"後臺"},children:[{path:"products",component:()=>n.e(433).then(n.bind(n,7433)),meta:{title:"後臺 - 產品列表"}},{path:"orders",component:()=>n.e(583).then(n.bind(n,9583)),meta:{title:"後臺 - 訂單列表"}},{path:"vouchers",component:()=>n.e(101).then(n.bind(n,4101)),meta:{title:"後臺 - 優惠券列表"}},{path:"articles",component:()=>n.e(957).then(n.bind(n,1957)),meta:{title:"後臺 - 最新消息列表"}}]},{path:"/user",component:()=>n.e(166).then(n.bind(n,2166)),children:[{path:"cart",component:()=>n.e(813).then(n.bind(n,2813)),meta:{title:"塔可餅車車 - 購物車"}},{path:"product",component:()=>n.e(527).then(n.bind(n,6527)),meta:{title:"塔可餅車車 - 美味精選"}},{path:"product/:productId",component:()=>n.e(636).then(n.bind(n,5636)),meta:{title:"塔可餅車車 - 美味精選"}},{path:"orders",component:()=>n.e(520).then(n.bind(n,4520)),meta:{title:"塔可餅車車 - 訂單查詢"}},{path:"checkout/:orderId",component:()=>n.e(279).then(n.bind(n,279)),meta:{title:"塔可餅車車 - 結帳頁"}},{path:"story",component:()=>n.e(293).then(n.bind(n,3293)),meta:{title:"塔可餅車車 - 車車故事"}},{path:"news",component:()=>n.e(570).then(n.bind(n,4570)),meta:{title:"塔可餅車車 - 最新消息"}}]}],pt=(0,k.p7)({history:(0,k.r5)(),routes:ut,linkActiveClass:"active"});pt.beforeEach(((t,e,n)=>{t.meta.title&&(document.title=t.meta.title),n()}));var mt=pt,ht=n(65),gt=(0,ht.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,p.aH)("required",m.C1),(0,p.aH)("email",m.Do),(0,p.aH)("min",m.VV),(0,p.jQ)({generateMessage:(0,h.NC)({zh_TW:g}),validateOnInput:!0}),(0,h.i_)("zh_TW");const ft=(0,s.ri)(y);ft.config.globalProperties.$filters={currency:l,date:c},ft.config.globalProperties.$httpMessageState=u,ft.use(i.Z,a()),ft.use(gt),ft.use(mt),ft.component("LoadingComponent",r.Z),ft.component("VeeForm",p.l0),ft.component("VeeField",p.gN),ft.component("ErrorMessage",p.Bc),ft.mount("#app")},5820:function(t,e,n){var s=n(1373);const o=(0,s.Z)();e["Z"]=o},1339:function(t,e,n){var s=n(7972),o=n.n(s);e["Z"]={methods:{showModal(){this.modal.show()},hideModal(){this.modal.hide()}},mounted(){this.modal=new(o())(this.$refs.modal)}}},334:function(t,e,n){n.d(e,{Z:function(){return p}});var s=n(3396);const o={class:"py-3"},a=(0,s._)("span",null,[(0,s.Uk)(" 本網站僅為個人練習，非商業使用。素材取自"),(0,s._)("a",{href:"https://unsplash.com"},"unsplash"),(0,s.Uk)("、LOGO由 Twitter, "),(0,s._)("a",{href:"https://creativecommons.org/licenses/by/4.0",title:"Creative Commons Attribution 4.0"},"CC BY 4.0"),(0,s.Uk)(", "),(0,s._)("a",{href:"https://commons.wikimedia.org/w/index.php?curid=59969682"},"連結")],-1),i=(0,s._)("span",null,"Copyright © 2022 Choo Choo Tacos",-1),r=(0,s.Uk)("後台展示");function c(t,e){const n=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("footer",o,[a,i,(0,s.Wm)(n,{to:"/login"},{default:(0,s.w5)((()=>[r])),_:1})])}var l=n(89);const d={},u=(0,l.Z)(d,[["render",c]]);var p=u},3782:function(t,e,n){n.d(e,{Z:function(){return U}});var s=n(3396),o=n(7139),a=n(9242);const i={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},r={class:"modal-dialog modal-dialog-centered modal-sm",role:"document"},c={class:"modal-content border-0"},l={class:"modal-title",id:"exampleModalLabel"},d=(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),u={class:"modal-body"},p={key:0,class:"row"},m={key:0,class:"my-3"},h=(0,s._)("div",{class:"logo-icon"},null,-1),g={class:"fs-2 text-center"},f={class:"fs-5 text-center"},v={key:1,class:"my-3"},w={class:"fs-2 text-center"},b={key:1,class:"row"},_={class:"my-3"},y={class:"fs-2 text-center"},k={class:"modal-footer"};function C(t,e,n,C,x,L){return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("div",r,[(0,s._)("div",c,[(0,s._)("div",{class:(0,o.C_)(["modal-header text-white",{"bg-success":n.msg.success,"bg-danger":!n.msg.success}])},[(0,s._)("h5",l,[(0,s._)("span",null,(0,o.zw)(n.msg.title),1)]),d],2),(0,s._)("div",u,[n.msg.product?((0,s.wg)(),(0,s.iD)("div",p,[n.msg.success?((0,s.wg)(),(0,s.iD)("div",m,[h,(0,s._)("p",g,(0,o.zw)(n.msg.product.title),1),(0,s._)("p",f,(0,o.zw)(n.msg.qty)+" / "+(0,o.zw)(n.msg.product.unit),1)])):((0,s.wg)(),(0,s.iD)("div",v,[(0,s._)("p",w,(0,o.zw)(n.msg.product.title),1)]))])):((0,s.wg)(),(0,s.iD)("div",b,[(0,s._)("div",_,[(0,s._)("p",y,(0,o.zw)(n.msg.title),1)])]))]),(0,s._)("div",k,[(0,s._)("button",{type:"button",class:(0,o.C_)(["btn btn-success",{"btn-success":n.msg.success,"btn-danger":!n.msg.success}]),onClick:e[0]||(e[0]=(0,a.iM)(((...e)=>t.hideModal&&t.hideModal(...e)),["prevent"]))},"確認",2)])])])],512)}var x=n(1339),L={props:{msg:{type:Object,default(){return{}}}},data(){return{modal:{}}},mixins:[x.Z]},D=n(89);const M=(0,D.Z)(L,[["render",C]]);var U=M},9429:function(t,e,n){n.d(e,{Z:function(){return rt}});var s=n(3396),o=n(9242),a=n(7139),i=n(154);const r={class:"navbar navbar-expand-lg navbar-dark bg-dark fixed-top"},c={class:"container"},l=(0,s._)("img",{class:"logo",src:i,alt:"由 Twitter, CC BY 4.0, https://commons.wikimedia.org/w/index.php?curid=59969682"},null,-1),d=(0,s.Uk)(" 塔可餅車車 "),u=(0,s._)("span",{class:"navbar-toggler-icon"},null,-1),p=[u],m={key:0,class:"collapse navbar-collapse",id:"navbarNavDropdown"},h={class:"navbar-nav w-100"},g={class:"nav-item"},f=(0,s.Uk)("前台"),v={class:"nav-item"},w=(0,s.Uk)("產品列表"),b={class:"nav-item"},_=(0,s.Uk)("訂單列表"),y={class:"nav-item"},k=(0,s.Uk)("優惠券列表"),C={class:"nav-item"},x=(0,s.Uk)("消息列表"),L={class:"nav-item dropdown ms-auto"},D={key:0},M={key:1,class:"navbar-collapse",id:"navbarNavDropdown"},U={class:"nav-item px-3"},Z=(0,s.Uk)("美味精選"),$={class:"nav-item px-3"},W=(0,s.Uk)("車車故事"),j={class:"nav-item px-3"},z=(0,s.Uk)("優惠資訊"),N={class:"nav-item px-3"},O=(0,s.Uk)("訂單查詢");function S(t,e,n,i,u,S){const P=(0,s.up)("router-link"),T=(0,s.up)("dropdown-cart");return(0,s.wg)(),(0,s.iD)("nav",r,[(0,s._)("div",c,[(0,s.Wm)(P,{class:"navbar-brand",to:"/"},{default:(0,s.w5)((()=>[l,d])),_:1}),(0,s._)("button",{class:"navbar-toggler",type:"button",onClick:e[0]||(e[0]=(0,o.iM)((t=>S.dropdown("dropdownNav")),["prevent"]))},p),n.isLogin?((0,s.wg)(),(0,s.iD)("div",m,[(0,s._)("ul",h,[(0,s._)("li",g,[(0,s.Wm)(P,{class:"nav-link",to:"/"},{default:(0,s.w5)((()=>[f])),_:1})]),(0,s._)("li",v,[(0,s.Wm)(P,{class:"nav-link",to:"/dashboard/products"},{default:(0,s.w5)((()=>[w])),_:1})]),(0,s._)("li",b,[(0,s.Wm)(P,{class:"nav-link",to:"/dashboard/orders"},{default:(0,s.w5)((()=>[_])),_:1})]),(0,s._)("li",y,[(0,s.Wm)(P,{class:"nav-link",to:"/dashboard/vouchers"},{default:(0,s.w5)((()=>[k])),_:1})]),(0,s._)("li",C,[(0,s.Wm)(P,{class:"nav-link",to:"/dashboard/articles"},{default:(0,s.w5)((()=>[x])),_:1})]),(0,s._)("li",L,[(0,s._)("button",{class:"btn btn-secondary dropdown-toggle",type:"button",onClick:e[1]||(e[1]=(0,o.iM)((t=>S.dropdown("dropdownAdmin")),["prevent"]))}," 使用者 "),(0,s._)("ul",{class:(0,a.C_)(["dropdown-menu",{show:u.dropdownAdmin}])},[n.isLogin?((0,s.wg)(),(0,s.iD)("li",D,[(0,s._)("a",{class:"dropdown-item",onClick:e[2]||(e[2]=(0,o.iM)(((...t)=>S.logout&&S.logout(...t)),["prevent"]))},"Logout")])):(0,s.kq)("",!0)],2)])])])):((0,s.wg)(),(0,s.iD)("div",M,[(0,s._)("ul",{class:(0,a.C_)(["navbar-nav w-100 justify-content-center align-items-center",{show:u.dropdownNav}])},[(0,s._)("li",U,[(0,s.Wm)(P,{class:"nav-link",to:"/user/product"},{default:(0,s.w5)((()=>[Z])),_:1})]),(0,s._)("li",$,[(0,s.Wm)(P,{class:"nav-link",to:"/user/story"},{default:(0,s.w5)((()=>[W])),_:1})]),(0,s._)("li",j,[(0,s.Wm)(P,{class:"nav-link",to:"/user/news"},{default:(0,s.w5)((()=>[z])),_:1})]),(0,s._)("li",N,[(0,s.Wm)(P,{class:"nav-link",to:"/user/orders"},{default:(0,s.w5)((()=>[O])),_:1})])],2)])),(0,s.Wm)(T)])])}const P={class:"btn-group dropdown cart-menu ms-auto me-2"},T=(0,s._)("i",{class:"bi bi-cart-fill"},null,-1),A={key:0,class:"badge rounded-pill bg-danger"},E={key:0,class:"dropdown-item d-flex justify-content-center"},q=(0,s._)("li",{class:"dropdown-item d-flex justify-content-center border-bottom bg-warning text-white"},[(0,s._)("i",{class:"bi bi-cart-fill me-2"}),(0,s.Uk)(" 購物車 ")],-1),H={class:"dropdown-item d-flex justify-content-between align-items-center"},B=["onClick"],I={class:"fs-7 m-0"},Y={class:"input-group w-50"},F=["onUpdate:modelValue","onChange"],V={class:"input-group-text"},K=(0,s._)("hr",null,null,-1),G={class:"dropdown-item d-flex justify-content-between"},Q=(0,s._)("p",null,"小計",-1),X=(0,s._)("p",null,"元",-1),J=(0,s.Uk)("前往結帳");function R(t,e,n,i,r,c){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",P,[(0,s._)("button",{type:"button",class:"btn btn-dark rounded",onClick:e[0]||(e[0]=(0,o.iM)(((...t)=>c.dropdown&&c.dropdown(...t)),["prevent"]))},[T,r.cartLength>0?((0,s.wg)(),(0,s.iD)("span",A,(0,a.zw)(r.cartLength),1)):(0,s.kq)("",!0)]),(0,s._)("ul",{class:(0,a.C_)(["dropdown-menu mt-5 me-5 cart-list py-0",{show:r.dropdownBtn}])},[r.cartShow?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[q,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.cart.carts,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id},[(0,s._)("div",H,[(0,s._)("button",{class:"btn btn-outline-danger",type:"button",onClick:(0,o.iM)((e=>c.deleteCart(t.id)),["prevent"])},"X",8,B),(0,s._)("p",I,(0,a.zw)(t.product.title),1),(0,s._)("div",Y,[(0,s.wy)((0,s._)("input",{class:"form-control",min:"1",type:"number","onUpdate:modelValue":e=>t.qty=e,onChange:e=>c.updateCart(t)},null,40,F),[[o.nr,t.qty]]),(0,s._)("div",V,"/ "+(0,a.zw)(t.product.unit),1)])])])))),128)),K,(0,s._)("li",G,[Q,(0,s._)("p",null,(0,a.zw)(t.$filters.currency(r.cart.total)),1),X]),(0,s.Wm)(l,{class:"btn btn-dark w-100 mt-2",to:"/user/cart",onClick:(0,o.iM)(c.dropdown,["prevent"])},{default:(0,s.w5)((()=>[J])),_:1},8,["onClick"])],64)):((0,s.wg)(),(0,s.iD)("li",E," 目前購物車是空的喔! "))],2)])}var tt=n(5820),et={data(){return{dropdownBtn:!1,cart:{},cartShow:!1,cartLength:0}},watch:{cartLength(){this.cartShow=!1,this.cartLength>0&&(this.cartShow=!0)}},methods:{dropdown(){this.dropdownBtn?this.dropdownBtn=!1:this.dropdownBtn=!0},getCart(){const t="https://vue3-course-api.hexschool.io/api/steven-vue3-demo/cart";this.isLoading=!0,this.$http.get(t).then((t=>{this.cart=t.data.data,this.cartLength=t.data.data.carts.length,this.$emit("emit-cartlength",this.cartLength),this.isLoading=!1,this.cartShow=!1,t.data.data.carts.length>0&&(this.cartShow=!0)}))},updateCart(t){const e=`https://vue3-course-api.hexschool.io/api/steven-vue3-demo/cart/${t.id}`,n={product_id:t.product_id,qty:t.qty};this.isLoading=!0,this.$http.put(e,{data:n}).then((t=>{this.isLoading=!1,this.getCart()}))},deleteCart(t){const e=`https://vue3-course-api.hexschool.io/api/steven-vue3-demo/cart/${t}`;this.isLoading=!0,this.$http.delete(e).then((t=>{this.isLoading=!1,this.getCart()}))}},created(){this.getCart(),tt.Z.on("updateCart",(()=>{this.getCart()}))}},nt=n(89);const st=(0,nt.Z)(et,[["render",R]]);var ot=st,at={props:["isLogin"],components:{DropdownCart:ot},data(){return{dropdownAdmin:!1,dropdownNav:!1}},methods:{dropdown(t){"dropdownAdmin"===t?this.dropdownAdmin?this.dropdownAdmin=!1:this.dropdownAdmin=!0:"dropdownNav"===t&&(this.dropdownNav?this.dropdownNav=!1:this.dropdownNav=!0)},logout(){const t="https://vue3-course-api.hexschool.io/logout";this.$http.post(t,this.user).then((t=>{t.data.success&&this.$router.push("/login")}))}}};const it=(0,nt.Z)(at,[["render",S]]);var rt=it},4700:function(t,e,n){n.d(e,{Z:function(){return U}});var s=n(3396),o=n(7139),a=n(9242);const i=(0,s._)("h3",{class:"section-title"},"美味推薦",-1),r={class:"row py-5"},c={class:"card rounded-3 text-white mt-3"},l={class:"card-img-overlay"},d={class:"card-title"},u={class:"card-text text-truncate"},p={class:"card-text text-end"},m={class:"btn-group btn-group-sm"},h=["onClick"],g=["disabled","onClick"],f={key:0,class:"spinner-border text-danger spinner-grow-sm",role:"status"},v=(0,s._)("span",{class:"visually-hidden"},"Loading...",-1),w=[v],b=(0,s._)("i",{class:"bi bi-cart-plus"},null,-1),_={class:"text-end mt-5"},y=(0,s.Uk)("更多選擇?");function k(t,e,n,v,k,C){const x=(0,s.up)("router-link"),L=(0,s.up)("message-modal");return(0,s.wg)(),(0,s.iD)(s.HY,null,[i,(0,s._)("div",r,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(k.tempProducts,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id,class:"col-6 col-md-4 col-lg-3"},[(0,s._)("div",c,[(0,s._)("div",{class:"product-img rounded-3",style:(0,o.j5)({backgroundImage:`url( ${e.imageUrl} )`})},null,4),(0,s._)("div",l,[(0,s._)("h5",d,(0,o.zw)(e.title),1),(0,s._)("p",u,(0,o.zw)(e.description),1),(0,s._)("p",p,"$ "+(0,o.zw)(t.$filters.currency(e.price)),1),(0,s._)("div",m,[(0,s._)("button",{type:"button",class:"btn btn-warning",onClick:(0,a.iM)((t=>C.getProduct(e.id)),["prevent"])}," 詳細 ",8,h),(0,s._)("button",{type:"button",class:"btn btn-success",disabled:this.status.loadingItem===e.id,onClick:(0,a.iM)((t=>C.addCart(e)),["prevent"])},[this.status.loadingItem===e.id?((0,s.wg)(),(0,s.iD)("div",f,w)):(0,s.kq)("",!0),b],8,g)])])])])))),128)),(0,s._)("div",_,[(0,s.Wm)(x,{class:"btn-more",to:"/user/product"},{default:(0,s.w5)((()=>[y])),_:1})])]),(0,s.Wm)(L,{ref:"messageModal",msg:k.msg},null,8,["msg"])],64)}var C=n(5820),x=n(3782),L={data(){return{products:[],tempProducts:[],likeProduct:!1,status:{loadingItem:""},msg:{title:"加入購物車",product:{},success:"",qty:1}}},components:{MessageModal:x.Z},methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/steven-vue3-demo/products/all";this.isLoading=!0,this.$http.get(t).then((t=>{console.log(t.data.products),this.products=t.data.products;for(let e=0;e<=3;e++)this.tempProducts.push(this.products[e]);this.isLoading=!1}))},getProduct(t){this.$router.push(`/user/product/${t}`)},addCart(t){const e="https://vue3-course-api.hexschool.io/api/steven-vue3-demo/cart",n=this.$refs.messageModal;this.status.loadingItem=t.id;const s={product_id:t.id,qty:1};this.msg.product=t,this.$http.post(e,{data:s}).then((t=>{console.log(t),this.msg.success=t.data.success,this.msg.title=t.data.message,this.msg.qty=1,t.data.success&&(C.Z.emit("updateCart"),this.status.loadingItem="",n.showModal())}))}},created(){this.getProducts()}},D=n(89);const M=(0,D.Z)(L,[["render",k]]);var U=M},154:function(t,e,n){t.exports=n.p+"img/taco.07646f66.svg"}},e={};function n(s){var o=e[s];if(void 0!==o)return o.exports;var a=e[s]={id:s,loaded:!1,exports:{}};return t[s].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=t,function(){n.amdO={}}(),function(){var t=[];n.O=function(e,s,o,a){if(!s){var i=1/0;for(d=0;d<t.length;d++){s=t[d][0],o=t[d][1],a=t[d][2];for(var r=!0,c=0;c<s.length;c++)(!1&a||i>=a)&&Object.keys(n.O).every((function(t){return n.O[t](s[c])}))?s.splice(c--,1):(r=!1,a<i&&(i=a));if(r){t.splice(d--,1);var l=o();void 0!==l&&(e=l)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[s,o,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,s){return n.f[s](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/"+t+"."+{101:"212284e8",144:"f4a87f8b",166:"87d86541",279:"3253cd42",293:"9bedac50",433:"f21cb849",474:"33a5c5c3",520:"436172f6",527:"7f4c231f",570:"04a3a100",583:"47d358aa",636:"48588751",813:"8b3003b3",957:"da2249c0"}[t]+".js"}}(),function(){n.miniCssF=function(t){return"css/"+t+"."+{101:"9adfb6ff",293:"06cdaa3d",433:"9adfb6ff",474:"e63dd69d",520:"18b3992d",527:"9f718479",570:"049d85a5",583:"9adfb6ff",636:"e280f9ed",813:"da75e6c5",957:"9adfb6ff"}[t]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="web-shop-demo:";n.l=function(s,o,a,i){if(t[s])t[s].push(o);else{var r,c;if(void 0!==a)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==e+a){r=u;break}}r||(c=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.setAttribute("data-webpack",e+a),r.src=s),t[s]=[o];var p=function(e,n){r.onerror=r.onload=null,clearTimeout(m);var o=t[s];if(delete t[s],r.parentNode&&r.parentNode.removeChild(r),o&&o.forEach((function(t){return t(n)})),e)return e(n)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=p.bind(null,r.onerror),r.onload=p.bind(null,r.onload),c&&document.head.appendChild(r)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/web-shop-demo/dist/"}(),function(){var t=function(t,e,n,s){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var a=function(a){if(o.onerror=o.onload=null,"load"===a.type)n();else{var i=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.href||e,c=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=i,c.request=r,o.parentNode.removeChild(o),s(c)}};return o.onerror=o.onload=a,o.href=e,document.head.appendChild(o),o},e=function(t,e){for(var n=document.getElementsByTagName("link"),s=0;s<n.length;s++){var o=n[s],a=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(a===t||a===e))return o}var i=document.getElementsByTagName("style");for(s=0;s<i.length;s++){o=i[s],a=o.getAttribute("data-href");if(a===t||a===e)return o}},s=function(s){return new Promise((function(o,a){var i=n.miniCssF(s),r=n.p+i;if(e(i,r))return o();t(s,r,o,a)}))},o={143:0};n.f.miniCss=function(t,e){var n={101:1,293:1,433:1,474:1,520:1,527:1,570:1,583:1,636:1,813:1,957:1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=s(t).then((function(){o[t]=0}),(function(e){throw delete o[t],e})))}}(),function(){var t={143:0};n.f.j=function(e,s){var o=n.o(t,e)?t[e]:void 0;if(0!==o)if(o)s.push(o[2]);else{var a=new Promise((function(n,s){o=t[e]=[n,s]}));s.push(o[2]=a);var i=n.p+n.u(e),r=new Error,c=function(s){if(n.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var a=s&&("load"===s.type?"missing":s.type),i=s&&s.target&&s.target.src;r.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",r.name="ChunkLoadError",r.type=a,r.request=i,o[1](r)}};n.l(i,c,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,a,i=s[0],r=s[1],c=s[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(c)var d=c(n)}for(e&&e(s);l<i.length;l++)a=i[l],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(d)},s=self["webpackChunkweb_shop_demo"]=self["webpackChunkweb_shop_demo"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(3652)}));s=n.O(s)})();
//# sourceMappingURL=app.295eca2c.js.map