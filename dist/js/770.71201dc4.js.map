{"version":3,"file":"js/770.71201dc4.js","mappings":"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","sources":["webpack://web-shop-demo/./src/views/OrderList.vue","webpack://web-shop-demo/./src/components/OrderModal.vue","webpack://web-shop-demo/./src/components/OrderModal.vue?b91a","webpack://web-shop-demo/./src/views/OrderList.vue?7649"],"sourcesContent":["<template>\r\n  <loading-component :active=\"isLoading\"></loading-component>\r\n  <div class=\"container pt-3\">\r\n    <table class=\"table mt-5 \">\r\n      <thead>\r\n          <tr>\r\n            <th>訂單日期</th>\r\n            <th>電子信箱</th>\r\n            <th>訂單內容</th>\r\n            <th>訂單金額</th>\r\n            <th>是否付款</th>\r\n            <th>備註</th>\r\n            <th>操作</th>\r\n          </tr>\r\n      </thead>\r\n      <tbody>\r\n            <tr v-for=\"item in orders\" :key=\"item.id\">\r\n              <td>{{$filters.date(item.create_at)}}</td>\r\n              <td>{{item.user.email}}</td>\r\n              <td>\r\n                  <ul v-for=\"product in item.products\" :key=\"product\">\r\n                      <li>\r\n                          {{product.product.title}}\r\n                          {{product.qty}}\r\n                          {{product.product.unit}}\r\n                      </li>\r\n                  </ul>\r\n              </td>\r\n              <td>{{$filters.currency(item.total)}}元</td>\r\n              <td>{{item.is_paid}}</td>\r\n              <td>{{item.message}}</td>\r\n              <td>\r\n                  <div class=\"btn-group  d-flex align-items-center\">\r\n                    <button class=\"btn btn-primary\"\r\n                      @click.prevent=\"openModal(item)\"\r\n                      >詳細</button>\r\n                    <button class=\"btn btn-danger\"\r\n                      @click.prevent=\"openModal(item,'delete')\"\r\n                      >刪除</button>\r\n                  </div>\r\n              </td>\r\n            </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <pagination-bar :pages=\"pagination\"\r\n    @emit-pages=\"getOrders\"></pagination-bar>\r\n  <order-modal ref=\"orderModal\"\r\n    :order=\"tempOrder\"></order-modal>\r\n  <del-modal ref=\"delModal\"\r\n    :item=\"tempOrder\"\r\n    @delete-order=\"deleteOrder\"></del-modal>\r\n</template>\r\n\r\n<script>\r\nimport PaginationBar from '../components/PaginationBar.vue'\r\nimport OrderModal from '../components/OrderModal.vue'\r\nimport DelModal from '../components/DelModal.vue'\r\nexport default {\r\n  data () {\r\n    return {\r\n      orders: [],\r\n      pagination: {},\r\n      tempOrder: {},\r\n      isLoading: false\r\n    }\r\n  },\r\n  components: {\r\n    PaginationBar,\r\n    OrderModal,\r\n    DelModal\r\n  },\r\n  inject: ['emitter'],\r\n  methods: {\r\n    getOrders (page = 1) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`\r\n      this.isLoading = true\r\n      this.$http.get(api)\r\n        .then((res) => {\r\n          console.log(res.data.orders)\r\n          this.isLoading = false\r\n          if (res.data.success) {\r\n            this.orders = res.data.orders\r\n            this.pagination = res.data.pagination\r\n          }\r\n        })\r\n    },\r\n    openModal (item, modal) {\r\n      this.tempOrder = { ...item }\r\n      let orderComponent = this.$refs.orderModal\r\n      if (modal === 'delete') {\r\n        orderComponent = this.$refs.delModal\r\n      }\r\n      orderComponent.showModal()\r\n    },\r\n    deleteOrder (item) {\r\n      this.tempOrder = item\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${item.id}`\r\n      const orderComponent = this.$refs.delModal\r\n      this.$http.delete(api)\r\n        .then((res) => {\r\n          this.$httpMessageState(res, '刪除訂單')\r\n          orderComponent.hideModal()\r\n          this.getOrders()\r\n        })\r\n    }\r\n  },\r\n  created () {\r\n    this.getOrders()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div\r\n  class=\"modal fade\"\r\n  id=\"exampleModal\"\r\n  tabindex=\"-1\"\r\n  aria-labelledby=\"exampleModalLabel\"\r\n  aria-hidden=\"true\"\r\n  ref=\"modal\"\r\n  >\r\n  <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n  <div class=\"modal-content border-0\">\r\n    <div class=\"modal-header bg-dark text-white\">\r\n      <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n        <span>訂單詳細</span>\r\n      </h5>\r\n      <button type=\"button\" class=\"btn-close\"\r\n              data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"modal-body\">\r\n      <div class=\"row\">\r\n        <div class=\"col-sm-4\">\r\n          用戶資料\r\n          <div class=\"mb-3\">\r\n            <label for=\"name\" class=\"form-label\">姓名</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"name\"\r\n                    required\r\n                    v-model=\"tempOrder.user.name\">\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"email\" class=\"form-label\">Email</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"email\"\r\n                    required\r\n                    v-model=\"tempOrder.user.email\">\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"phone\" class=\"form-label\">電話</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"phone\"\r\n                    required\r\n                    v-model=\"tempOrder.user.tel\">\r\n          </div>\r\n          <div class=\"mt-5\">\r\n            <label for=\"address\" class=\"form-label\">地址</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"address\"\r\n                    required\r\n                    v-model=\"tempOrder.user.address\">\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm-8\">\r\n          訂單細節\r\n          <div class=\"row gx-2\" v-for=\"item in tempOrder.products\" :key=\"item\">\r\n            <div class=\"mb-3 d-flex justify-content-between\">\r\n              {{item.product.title }}\r\n              <div class=\"border\">{{ item.qty }} / {{ item.product.unit }}</div>\r\n              {{ $filters.currency(item.product.price) }} 元\r\n            </div>\r\n          <hr>\r\n          </div>\r\n          總金額\r\n          <div class=\"mb-3\">\r\n            {{$filters.currency(tempOrder.total)}} 元\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n      <button type=\"button\" class=\"btn btn-outline-secondary\"\r\n              data-bs-dismiss=\"modal\"\r\n              @click.prevent=\"hideModal\">取消\r\n      </button>\r\n      <button type=\"button\" class=\"btn btn-primary\"\r\n        @click.prevent=\"hideModal\">確認</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport modalMixin from '@/mixins/modalMixin'\r\nexport default {\r\n  props: {\r\n    order: {\r\n      type: Object,\r\n      default () { return {} }\r\n    }\r\n  },\r\n  watch: {\r\n    order () {\r\n      this.tempOrder = this.order\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      modal: {},\r\n      tempOrder: {\r\n        user: {\r\n          name: ''\r\n        },\r\n        products: {}\r\n      },\r\n      products: []\r\n    }\r\n  },\r\n  methods: {\r\n    showModal () {\r\n      this.modal.show()\r\n    },\r\n    hideModal () {\r\n      this.modal.hide()\r\n    }\r\n  },\r\n  mixins: [modalMixin]\r\n}\r\n</script>\r\n","import { render } from \"./OrderModal.vue?vue&type=template&id=7b17b25d\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\六角學院\\\\最終作業\\\\web-shop-demo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./OrderList.vue?vue&type=template&id=baf1965e\"\nimport script from \"./OrderList.vue?vue&type=script&lang=js\"\nexport * from \"./OrderList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\六角學院\\\\最終作業\\\\web-shop-demo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createVNode","_component_loading_component","active","$data","_hoisted_3","_createElementBlock","_Fragment","_renderList","item","key","id","_toDisplayString","_ctx","date","create_at","user","email","products","product","title","qty","unit","currency","total","is_paid","message","onClick","$options","_hoisted_5","_hoisted_6","_component_pagination_bar","pages","onEmitPages","_component_order_modal","ref","order","_component_del_modal","onDeleteOrder","tabindex","role","type","for","_hoisted_4","_hoisted_10","required","name","$event","_hoisted_12","_hoisted_14","tel","_hoisted_16","address","price","_hoisted_21","props","Object","default","watch","this","tempOrder","data","modal","methods","showModal","show","hideModal","hide","mixins","modalMixin","__exports__","orders","pagination","isLoading","components","PaginationBar","OrderModal","DelModal","inject","getOrders","page","api","$http","get","then","res","console","log","success","openModal","orderComponent","$refs","orderModal","delModal","deleteOrder","delete","$httpMessageState","created","render"],"sourceRoot":""}