{"version":3,"file":"js/813.8b3003b3.js","mappings":"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","sources":["webpack://web-shop-demo/./src/views/UserCart.vue","webpack://web-shop-demo/./src/views/UserCart.vue?698a"],"sourcesContent":["<template>\r\n  <loading-component :active=\"isLoading\"></loading-component>\r\n  <div v-if=\"cartShow\">\r\n    <div class=\"d-flex justify-content-between\">\r\n      <p  :class=\"{'fs-4': cartConfirm , 'fs-2':!cartConfirm,'fw-bold':!cartConfirm}\">確認訂單</p>\r\n      <p  :class=\"{'fs-4': !cartConfirm ,'text-muted': !cartConfirm , 'fs-2':cartConfirm,'fw-bold':cartConfirm}\">填寫資料</p>\r\n      <p class=\"fs-4 text-muted\">付款</p>\r\n      <p class=\"fs-4 text-muted\">完成</p>\r\n    </div>\r\n    <div v-if=\"!cartConfirm\" class=\"progress\">\r\n      <div class=\"progress-bar progress-bar-striped bg-warning\" role=\"progressbar\" style=\"width: 25%\" aria-valuenow=\"25\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\r\n    </div>\r\n    <div v-else class=\"progress\">\r\n      <div class=\"progress-bar progress-bar-striped bg-warning\" role=\"progressbar\" style=\"width: 50%\" aria-valuenow=\"50\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row mt-5\">\r\n    <div v-if=\"!cartShow\" class=\"col-12\">\r\n      <div  class=\"cart-clear-veiw\">\r\n        <div class=\"logo-icon\"></div>\r\n        <p class=\"fs-1\">目前購物車內是空的喔...</p>\r\n        <p class=\"fs-6 text-black-50\">好可惜喔，這樣沒辦法開車耶。</p>\r\n        <button class=\"btn btn-dark\"\r\n        @click.passive=\"pushToProduct()\">重新上車</button>\r\n      </div>\r\n    </div>\r\n    <div v-else class=\"col-12 col-md-5\" >\r\n      <button v-if=\"!cartConfirm\" type=\"button\" class=\"btn btn-danger\"\r\n        @click.prevent=\"deleteAllCart\">清空購物車</button>\r\n      <table class=\"table align-middle\">\r\n          <thead>\r\n            <tr>\r\n              <th></th>\r\n              <th>名稱</th>\r\n              <th style=\"width:120px\">數量</th>\r\n              <th>單價</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n              <tr v-for=\"item in cart.carts\" :key=\"item.id\">\r\n                <td>\r\n                  <button v-if=\"!cartConfirm\" type=\"button\" class=\"btn btn-outline-danger btn-sm\"\r\n                    @click.prevent=\"deleteCart(item.id)\">\r\n                  <i class=\"bi bi-x\"></i>\r\n                </button>\r\n                </td>\r\n                <td>\r\n                  {{item.product.title}}\r\n                  <div v-if=\"item.coupon\" class=\"text-success\">\r\n                    已套用優惠券 {{item.coupon.title}}\r\n                  </div>\r\n                </td>\r\n                <td>\r\n                  <div v-if=\"!cartConfirm\" class=\"input-group input-group-sm\">\r\n                    <input type=\"number\" class=\"form-control\" v-model=\"item.qty\"\r\n                      min=\"1\"\r\n                      :disabled=\"item.id === status.loadingItem\"\r\n                      @change=\"updateCart(item)\">\r\n                    <div class=\"input-group-text\">/ {{ item.product.unit }}</div>\r\n                  </div>\r\n                  <div v-else class=\"d-flex\">\r\n                    {{item.qty}} / {{ item.product.unit }}\r\n                  </div>\r\n                </td>\r\n                <td><small v-if=\"item.coupon\" class=\"text-success\">折扣價：</small>{{ $filters.currency(item.final_total) }} 元</td>\r\n              </tr>\r\n          </tbody>\r\n          <tfoot>\r\n            <tr>\r\n              <td colspan=\"3\" class=\"text-end\">總計</td>\r\n              <td class=\"text-end\">{{ $filters.currency(cart.total) }} 元</td>\r\n            </tr>\r\n            <tr v-if=\"cart.total > cart.final_total\">\r\n              <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\r\n              <td class=\"text-end text-success\">{{ $filters.currency(cart.final_total) }}</td>\r\n            </tr>\r\n          </tfoot>\r\n      </table>\r\n      <div v-if=\"!cartConfirm\" class=\"input-group mb-3 input-group-sm\">\r\n          <input type=\"text\" class=\"form-control\" placeholder=\"請輸入優惠碼\"\r\n            v-model=\"voucherCode\">\r\n          <div class=\"input-group-append\">\r\n            <button class=\"btn btn-outline-secondary\" type=\"button\"\r\n              @click.prevent=\"addVoucherCode\">\r\n              套用優惠碼\r\n            </button>\r\n          </div>\r\n      </div>\r\n      <div v-if=\"!cartConfirm\" class=\"d-flex justify-content-end mb-3\">\r\n        <button class=\"btn btn-primary\"\r\n          @click.prevent=\"cartConfirm = true\">下一步</button>\r\n      </div>\r\n    </div>\r\n  <div v-if=\"cartShow\" class=\"col-12 col-md-7\">\r\n    <div v-if=\"cartConfirm\" class=\"container p-3\">\r\n      <vee-form v-slot=\"{ errors, validate } \" @submit=\"createOrder\">\r\n        <div class=\"mb-3\">\r\n          <label for=\"email\" class=\"form-label\">Email</label>\r\n          <vee-field type=\"email\" class=\"form-control\" id=\"email\" placeholder=\"請輸入Email\" name=\"email\" required\r\n            rules=\"email|required\"\r\n            :class=\"{ 'is-invalid': errors['email'] }\"\r\n            v-model=\"form.user.email\"></vee-field>\r\n          <error-message name=\"email\" class=\"invalid-feedback\"></error-message>\r\n        </div>\r\n        <div class=\"mb-3\">\r\n          <label for=\"name\" class=\"form-label\">收件人姓名</label>\r\n          <vee-field type=\"text\" class=\"form-control\" id=\"name\" placeholder=\"請輸入姓名\" name=\"name\" required\r\n            rules=\"required\"\r\n            :class=\"{ 'is-invalid': errors['name'] }\"\r\n            v-model=\"form.user.name\"></vee-field>\r\n          <error-message name=\"name\" class=\"invalid-feedback\"></error-message>\r\n        </div>\r\n        <div class=\"mb-3\">\r\n          <label for=\"tel\" class=\"form-label\">收件人電話</label>\r\n          <vee-field type=\"text\" class=\"form-control\" id=\"tel\" placeholder=\"請輸入電話\" name=\"tel\" required\r\n            :rules=\"isPhone\"\r\n            :class=\"{ 'is-invalid': errors['tel'] }\"\r\n            v-model=\"form.user.tel\"></vee-field>\r\n          <error-message name=\"tel\" class=\"invalid-feedback\"></error-message>\r\n        </div>\r\n        <div class=\" mb-3\">\r\n          <label for=\"pickup\" class=\"form-label\">自取或外送</label>\r\n          <button class=\"btn btn-warning form-control mb-1\" type=\"button\" name=\"pickUp\"\r\n            @click.prevent=\"pickUp = true\" :checked=\"pickUp\">自取</button>\r\n          <button class=\"btn btn-warning form-control mb-1\" type=\"button\" name=\"pickUp\"\r\n            @click.prevent=\"pickUp = false\" :checked=\"!pickUp\">外送</button>\r\n        </div>\r\n        <div class=\"mb-3\"\r\n          v-if=\"!pickUp\">\r\n          <label for=\"address\" class=\"form-label\">收件人地址</label>\r\n          <vee-field type=\"text\" class=\"form-control\" id=\"address\" placeholder=\"請輸入收件地址\" name=\"address\" required\r\n            rules=\"required\"\r\n            :class=\"{ 'is-invalid': errors['address'] }\"\r\n            :disabled=\"pickUp\"\r\n            v-model=\"form.user.address\"></vee-field>\r\n          <error-message name=\"address\" class=\"invalid-feedback\"></error-message>\r\n        </div>\r\n        <div class=\"mb-3\">\r\n          <label for=\"message\" class=\"form-label\">留言</label>\r\n          <vee-field class=\"form-control\" id=\"message\" rows=\"3\" name=\"message\"\r\n            v-model=\"form.message\"></vee-field>\r\n        </div>\r\n        <div class=\"mb-3 d-flex justify-content-between \">\r\n          <button class=\"btn btn-primary\"\r\n          @click.prevent=\"cartConfirm = false\">上一步</button>\r\n          <button type=\"submit\" class=\"btn btn-primary ms-auto\" @click=\"validate\">送出訂單</button>\r\n        </div>\r\n      </vee-form>\r\n    </div>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n.cart-clear-veiw{\r\n  position: relative;\r\n  height: 75vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  .logo-icon{\r\n    position: relative;\r\n    background-image: url('../img/taco.svg');\r\n    background-repeat: no-repeat;\r\n    background-size: cover;\r\n    width: 80px;\r\n    height: 80px;\r\n    animation:  iconAni 3s 2.5s 1 linear;\r\n    &::before{\r\n      content: \"\";\r\n      position: absolute;\r\n      bottom: 0;\r\n      left: -5px;\r\n      background-color: #333;\r\n      width: 30px;\r\n      height: 30px;\r\n      border-radius: 50%;\r\n      box-shadow: 60px 0px 0px 0px  #333;\r\n    }\r\n    &::after{\r\n      content: \"\";\r\n      position: absolute;\r\n      bottom: 5px;\r\n      left: 0;\r\n      background-color: #999;\r\n      width: 20px;\r\n      height: 20px;\r\n      border-radius: 50%;\r\n      box-shadow: 60px 0px 0px 0px  #999;\r\n    }\r\n    @keyframes iconAni {\r\n      0%{\r\n        opacity: 0;\r\n        transform: translate(100px,0);\r\n      }\r\n      25%{\r\n        opacity: 0.5;\r\n        transform: translate(75px,0);\r\n      }\r\n      50%{\r\n        opacity: 1;\r\n        transform: translate(50px,0);\r\n      }\r\n      75%{\r\n        opacity: 1;\r\n        transform: translate(25px,0);\r\n      }\r\n      100%{\r\n        opacity: 1;\r\n        transform: translate(0,0);\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<script>\r\nimport emitter from '@/methods/emitter'\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [],\r\n      product: {},\r\n      status: {\r\n        loadingItem: ''\r\n      },\r\n      isLoading: false,\r\n      pagination: {},\r\n      cart: {},\r\n      cartShow: false,\r\n      cartConfirm: false,\r\n      voucherCode: '',\r\n      pickUp: false,\r\n      form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      }\r\n    }\r\n  },\r\n  provide () {\r\n    return {\r\n      emitter\r\n    }\r\n  },\r\n  watch: {\r\n    pickUp () {\r\n      if (this.pickUp) {\r\n        this.form.user.address = '塔可餅車車自取'\r\n      } else if (!this.pickUp) {\r\n        this.form.user.address = ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getProducts (page = 1) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/?page=${page}`\r\n      this.isLoading = true\r\n      this.$http.get(api).then((res) => {\r\n        this.products = res.data.products\r\n        this.pagination = res.data.pagination\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    getProduct (id) {\r\n      this.$router.push(`/user/product/${id}`)\r\n    },\r\n    addCart (id) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.status.loadingItem = id\r\n      const cart = {\r\n        product_id: id,\r\n        qty: 1\r\n      }\r\n      this.$http.post(api, { data: cart }).then((res) => {\r\n        console.log(res)\r\n        emitter.emit('updateCart')\r\n        this.status.loadingItem = ''\r\n        this.getCart()\r\n      })\r\n    },\r\n    getCart () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.isLoading = true\r\n      this.$http.get(api).then((res) => {\r\n        console.log(res.data)\r\n        this.cart = res.data.data\r\n        this.isLoading = false\r\n        this.cartShow = false\r\n        if (res.data.data.carts.length > 0) {\r\n          this.cartShow = true\r\n        }\r\n      })\r\n    },\r\n    updateCart (item) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`\r\n      const cart = {\r\n        product_id: item.product_id,\r\n        qty: item.qty\r\n      }\r\n      this.isLoading = true\r\n      this.status.loadingItem = item.id\r\n      this.$http.put(api, { data: cart }).then((res) => {\r\n        this.isLoading = false\r\n        this.getCart()\r\n        this.status.loadingItem = ''\r\n      })\r\n    },\r\n    deleteCart (id) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`\r\n      this.isLoading = true\r\n      this.$http.delete(api).then((res) => {\r\n        this.isLoading = false\r\n        emitter.emit('updateCart')\r\n        this.getCart()\r\n      })\r\n    },\r\n    deleteAllCart () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/carts`\r\n      this.isLoading = true\r\n      this.$http.delete(api).then((res) => {\r\n        this.$httpMessageState(res, '清空購物車')\r\n        this.isLoading = false\r\n        emitter.emit('updateCart')\r\n        this.getCart()\r\n        this.pushToProduct()\r\n      })\r\n    },\r\n    addVoucherCode () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`\r\n      const voucherCode = {\r\n        code: this.voucherCode\r\n      }\r\n      this.isLoading = true\r\n      this.$http.post(api, { data: voucherCode }).then((res) => {\r\n        console.log(res)\r\n        this.$httpMessageState(res, '使用優惠券')\r\n        this.isLoading = false\r\n        this.getCart()\r\n      })\r\n    },\r\n    createOrder () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`\r\n      const order = this.form\r\n      this.isLoading = true\r\n      this.$http.post(api, { data: order }).then((res) => {\r\n        console.log(res.data.orderId)\r\n        this.$httpMessageState(res, '新增訂單')\r\n        this.isLoading = false\r\n        this.getCart()\r\n        this.form = {\r\n          user: {\r\n            name: '',\r\n            email: '',\r\n            tel: '',\r\n            address: ''\r\n          },\r\n          message: ''\r\n        }\r\n        this.$router.push(`/user/checkout/${res.data.orderId}`)\r\n      })\r\n    },\r\n    isPhone (value) {\r\n      const phoneNumber = /^(09)[0-9]{8}$/\r\n      return phoneNumber.test(value) ? true : '手機號碼格式錯誤'\r\n    },\r\n    pushToProduct () {\r\n      this.$router.push('/user/product')\r\n    }\r\n  },\r\n  created () {\r\n    this.getProducts()\r\n    this.getCart()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserCart.vue?vue&type=template&id=19f2102b\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport \"./UserCart.vue?vue&type=style&index=0&id=19f2102b&lang=scss\"\n\nimport exportComponent from \"C:\\\\六角學院\\\\最終作業\\\\web-shop-demo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","role","style","_hoisted_6","_hoisted_9","_hoisted_21","colspan","for","_createVNode","_component_loading_component","active","$data","_createElementBlock","_hoisted_1","_hoisted_3","_hoisted_4","_hoisted_10","_hoisted_7","type","onClick","$options","_hoisted_19","_Fragment","_renderList","carts","item","key","id","product","title","coupon","_toDisplayString","qty","unit","$event","min","disabled","loadingItem","onChange","_ctx","currency","final_total","_hoisted_29","total","_hoisted_31","_hoisted_32","placeholder","_hoisted_14","_hoisted_15","_hoisted_16","_component_vee_form","onSubmit","errors","validate","_hoisted_40","_component_vee_field","name","required","rules","user","email","_component_error_message","_hoisted_42","_hoisted_44","tel","_hoisted_46","checked","_hoisted_47","_hoisted_48","_hoisted_50","address","_hoisted_52","rows","message","_hoisted_54","data","products","status","isLoading","pagination","cart","cartShow","cartConfirm","voucherCode","pickUp","form","provide","emitter","watch","this","methods","getProducts","page","api","$http","get","then","res","getProduct","$router","push","addCart","product_id","post","console","log","getCart","length","updateCart","put","deleteCart","delete","deleteAllCart","$httpMessageState","pushToProduct","addVoucherCode","code","createOrder","order","orderId","isPhone","value","phoneNumber","test","created","__exports__","render"],"sourceRoot":""}