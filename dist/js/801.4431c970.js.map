{"version":3,"file":"js/801.4431c970.js","mappings":"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","sources":["webpack://web-shop-demo/./src/views/UserProduct.vue","webpack://web-shop-demo/./src/views/UserProduct.vue?c4ac"],"sourcesContent":["<template>\r\n  <div class=\"container mt-3 px-3\">\r\n    <nav aria-label=\"breadcrumb\">\r\n    <ol class=\"breadcrumb\">\r\n      <li class=\"breadcrumb-item\">\r\n        <router-link to=\"/\">首頁</router-link>\r\n      </li>\r\n      <li class=\"breadcrumb-item\">\r\n        <router-link to=\"/user/product\">美味精選</router-link>\r\n      </li>\r\n      <li class=\"breadcrumb-item active\" aria-current=\"page\">{{product.title}}</li>\r\n    </ol>\r\n    </nav>\r\n    <div class=\"container mb-5\">\r\n      <div class=\"card mb-3 border-0\">\r\n        <div class=\"row g-0\">\r\n          <div class=\"col-md-6\">\r\n            <img :src=\"product.imageUrl\" class=\"product-image\" alt=\"...\" >\r\n          </div>\r\n          <div class=\"col-md-6 d-flex align-items-center\">\r\n            <div class=\"card-body\">\r\n              <h5 class=\"card-title h3\">{{product.title}}</h5>\r\n              <span class=\"product-tag\">{{product.category}}</span>\r\n              <p class=\"card-text\">{{product.content}}</p>\r\n              <div class=\"col-12 mb-3\">\r\n                <div class=\"h5\" v-if=\"!product.price\">{{ product.origin_price }} 元</div>\r\n                <del class=\"h6\" v-if=\"product.price\">原價{{ product.origin_price }} 元</del>\r\n                <div class=\"h4\" v-if=\"product.price\">特價 <span class=\"fs-4 text-danger\">{{ product.price }}元</span></div>\r\n              </div>\r\n              <hr>\r\n              <div class=\"btn-group btn-group-sm mb-3\">\r\n                <button type=\"button\" class=\"btn btn-secondary\"\r\n                    @click.prevent=\"this.likeProduct=true\">\r\n                    <i v-if=\"!this.likeProduct\" class=\"bi bi-suit-heart\"></i>\r\n                    <i v-else class=\"bi bi-suit-heart-fill\"></i>\r\n                </button>\r\n              </div>\r\n              <div class=\"input-group mb-3\">\r\n                <input type=\"number\" class=\"form-control\" v-model=\"qty\">\r\n                <span class=\"input-group-text\">{{ product.unit }}</span>\r\n              </div>\r\n              <div class=\"mb-3 d-flex justify-content-end\">\r\n                <button\r\n                  @click.prevent=\"addCart(product.id)\"\r\n                  :disabled=\"this.status.loadingItem === product.id\"\r\n                  class=\"btn btn-outline-success\" type=\"button\">\r\n                    <div class=\"spinner-border text-success spinner-grow-sm\" role=\"status\"\r\n                      v-if=\"this.status.loadingItem === product.id\">\r\n                      <span class=\"visually-hidden\">Loading...</span>\r\n                    </div>\r\n                  加入購物車\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <product-card></product-card>\r\n  </div>\r\n  <message-modal ref=\"messageModal\"\r\n  :msg=\"msg\"></message-modal>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n.product-image{\r\n  padding: 10px;\r\n  width: 100%;\r\n}\r\n.card-body{\r\n  border: 5px dashed #fa0;\r\n  border-radius: 20px;\r\n  .product-tag{\r\n    background-color: #fa0;\r\n    border-radius: 15px;\r\n    font-size: 24px;\r\n    padding: 5px;\r\n  }\r\n}\r\n</style>\r\n\r\n<script>\r\nimport ProductCard from '../components/ProductCard.vue'\r\nimport emitter from '@/methods/emitter'\r\nimport MessageModal from '../components/MessageModal.vue'\r\nexport default {\r\n  data () {\r\n    return {\r\n      product: {\r\n        imagesUrl: []\r\n      },\r\n      likeProduct: false,\r\n      qty: 1,\r\n      status: {\r\n        loadingItem: ''\r\n      },\r\n      msg: {\r\n        title: '加入購物車',\r\n        product: {},\r\n        success: '',\r\n        qty: ''\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    ProductCard,\r\n    MessageModal\r\n  },\r\n  methods: {\r\n    getProduct (id) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${id}`\r\n      this.isLoading = true\r\n      this.$http.get(api).then((res) => {\r\n        this.product = res.data.product\r\n        this.msg.product = res.data.product\r\n        this.isLoading = false\r\n      })\r\n    },\r\n    addCart (id) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      const messageComponent = this.$refs.messageModal\r\n      this.status.loadingItem = id\r\n      const cart = {\r\n        product_id: id,\r\n        qty: this.qty\r\n      }\r\n      this.$http.post(api, { data: cart }).then((res) => {\r\n        console.log(res)\r\n        this.msg.success = res.data.success\r\n        this.msg.title = res.data.message\r\n        this.msg.qty = this.qty\r\n        if (res.data.success) {\r\n          emitter.emit('updateCart')\r\n          this.status.loadingItem = ''\r\n          messageComponent.showModal()\r\n        }\r\n      })\r\n    }\r\n  },\r\n  provide () {\r\n    return {\r\n      emitter\r\n    }\r\n  },\r\n  created () {\r\n    this.getProduct(this.$route.params.productId)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserProduct.vue?vue&type=template&id=382dfbb2\"\nimport script from \"./UserProduct.vue?vue&type=script&lang=js\"\nexport * from \"./UserProduct.vue?vue&type=script&lang=js\"\n\nimport \"./UserProduct.vue?vue&type=style&index=0&id=382dfbb2&lang=scss\"\n\nimport exportComponent from \"D:\\\\阿德\\\\gitHub\\\\web-shop-demo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","role","_hoisted_34","_createVNode","_component_router_link","to","_toDisplayString","$data","title","src","imageUrl","alt","category","content","price","_createElementBlock","origin_price","_hoisted_25","type","onClick","likeProduct","$event","unit","$options","id","disabled","status","loadingItem","_hoisted_35","_component_product_card","_component_message_modal","ref","msg","data","product","imagesUrl","qty","success","components","ProductCard","MessageModal","methods","getProduct","api","this","isLoading","$http","get","then","res","addCart","messageComponent","$refs","messageModal","cart","product_id","post","console","log","message","emitter","showModal","provide","created","$route","params","productId","__exports__","render"],"sourceRoot":""}