{"version":3,"file":"js/633.5a9c1d48.js","mappings":"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","sources":["webpack://web-shop-demo/./src/components/BannerComponent.vue","webpack://web-shop-demo/./src/components/BannerComponent.vue?738c","webpack://web-shop-demo/./src/views/UserLikesList.vue","webpack://web-shop-demo/./src/views/UserLikesList.vue?5bf8"],"sourcesContent":["<template>\r\n  <div class=\"banner-small\">\r\n    <div class=\"banner-img active\"></div>\r\n    <h2 class=\"banner-title\">{{msg.title}}</h2>\r\n  </div>\r\n</template>\r\n<style lang=\"scss\">\r\n.banner-small{\r\n  margin-top: 0;\r\n  position: relative;\r\n  width: 100%;\r\n  height: 50vh;\r\n  background-color: #999;\r\n  // background-image: url(\"../img/banner/b-2.jpg\");\r\n  // background-size: cover;\r\n  // overflow: hidden;\r\n  .banner-img{\r\n    position: absolute;\r\n    top:0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 50vh;\r\n    background-color: #999;\r\n    background-image: url(\"../img/banner/b-2.jpg\");\r\n    background-size: cover;\r\n    background-position: center center;\r\n    overflow: hidden;\r\n    &.active{\r\n      left: calc(-30vw);\r\n      width: 150vw;\r\n    }\r\n  }\r\n  .banner-title{\r\n    position: absolute;\r\n    left: 0;\r\n    bottom: 0;\r\n    color: #fff;\r\n    font-size: 120px;\r\n    font-weight: 900;\r\n  }\r\n}\r\n@media (max-width: 767.98px) {\r\n  .banner-small {\r\n    width: 100vw;\r\n  }\r\n}\r\n</style>\r\n<script>\r\nexport default {\r\n  props: ['msg']\r\n}\r\n</script>\r\n","import { render } from \"./BannerComponent.vue?vue&type=template&id=aaad2b3e\"\nimport script from \"./BannerComponent.vue?vue&type=script&lang=js\"\nexport * from \"./BannerComponent.vue?vue&type=script&lang=js\"\n\nimport \"./BannerComponent.vue?vue&type=style&index=0&id=aaad2b3e&lang=scss\"\n\nimport exportComponent from \"D:\\\\阿德\\\\gitHub\\\\web-shop-demo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <banner-component\r\n    :msg=\"msg\"></banner-component>\r\n    <div class=\"likes-list mt-5\">\r\n      <div v-if=\"likes.length == 0\" class=\"row my-3\">\r\n        <div  class=\"col-12 d-flex flex-column justify-content-center align-items-center border border-5 border-warning rounded\"  style=\"height: 30vw;\">\r\n          <h3>\r\n            目前沒有商品喔...\r\n          </h3>\r\n          <router-link class=\"btn btn-success\" to=\"/user/product\">來去逛逛</router-link>\r\n        </div>\r\n      </div>\r\n      <div v-else class=\"row my-3\">\r\n        <div class=\"col-12 col-xl-4 col-md-6 col-sm-12 mb-4\" v-for=\"item in likes\" :key=\"item.id\">\r\n                  <div class=\"product-card\">\r\n                    <div class=\"products-img\" :style=\"{backgroundImage:`url(${item.imageUrl})`}\">\r\n                      <div class=\"product-tag\">{{ item.category }}</div>\r\n                      <button  type=\"button\" class=\"btn  rounded-pill product-likes\" @click.prevent=\"updateLikesList(item.id)\">\r\n                        <i v-if=\"isInLikeList(item.id)\" class=\"bi bi-heart-fill likes\" ></i>\r\n                        <i v-else class=\"bi bi-heart likes\" ></i>\r\n                      </button>\r\n                    </div>\r\n                    <div class=\"product-title \">{{ item.title }}</div>\r\n                    <div class=\"product-price px-2\">\r\n                      <div class=\"h5\" v-if=\"!item.price\">{{ $filters.currency(item.origin_price) }} 元</div>\r\n                      <del class=\"h6\" v-if=\"item.price\">{{ $filters.currency(item.origin_price) }} 元</del>\r\n                      <div class=\"h5 text-end\" v-if=\"item.price\">{{ $filters.currency(item.price) }} 元</div>\r\n                    </div>\r\n                    <div class=\"btn-group btn-group-sm w-100\">\r\n                      <button type=\"button\" class=\"btn btn-outline-secondary\"\r\n                        @click.prevent=\"getProduct(item.id)\">查看更多</button>\r\n                      <button type=\"button\" class=\"btn btn-outline-success\"\r\n                        :disabled=\"this.status.loadingItem === item.id\"\r\n                        @click.prevent=\"addCart(item)\">\r\n                        <div class=\"spinner-border text-success spinner-grow-sm\" role=\"status\"\r\n                          v-if=\"this.status.loadingItem === item.id\">\r\n                          <span class=\"visually-hidden\">Loading...</span>\r\n                        </div>\r\n                        加入購物車\r\n                        </button>\r\n                    </div>\r\n                  </div>\r\n          </div>\r\n      </div>\r\n      <div v-if=\"isLoading\" class=\"d-flex justify-content-center align-items-center flex-column loading-block\">\r\n        <strong>Loading...</strong>\r\n        <div class=\"spinner-border text-center\" style=\"width: 3rem; height: 3rem;\" role=\"status\" aria-hidden=\"true\"></div>\r\n      </div>\r\n    </div>\r\n    <div class=\"container\">\r\n      <product-card></product-card>\r\n    </div>\r\n    <message-modal ref=\"messageModal\"\r\n  :msg=\"msgModal\"></message-modal>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n.likes-list{\r\n  position: relative;\r\n  .product-card{\r\n    background-color: #fff;\r\n    position: relative;\r\n    transition: .5s;\r\n    box-shadow: 3px 1px 3px #666;\r\n    &:hover{\r\n      z-index: 2;\r\n      transform: scale(1.05);\r\n    }\r\n    .products-img{\r\n      background-size: cover;\r\n      position: relative;\r\n      height:200px;\r\n      .product-tag{\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        padding: 3px;\r\n        background-color: #fa0;\r\n        color:#fff;\r\n        font-weight: 500;\r\n        border-radius: 10px;\r\n      }\r\n      .product-likes{\r\n        position: absolute;\r\n        top: 0;\r\n        right: 0;\r\n        color:#fff;\r\n        font-size: 1.5em;\r\n      }\r\n    }\r\n    .product-title{\r\n      color: #000;\r\n      font-size: 22px;\r\n      font-weight: 700;\r\n    }\r\n    .product-price{\r\n      .h6{\r\n        color:#666;\r\n      }\r\n      .h5{\r\n        color:#f00;\r\n        font-weight: 700;\r\n      }\r\n    }\r\n  }\r\n  .loading-block{\r\n    position: absolute;\r\n    top:0;\r\n    background-color: #797979;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n}\r\n</style>\r\n<script>\r\nimport emitter from '@/methods/emitter'\r\nimport { getLikesIdList, updateLikesList } from '@/methods/likesList'\r\nimport BannerComponent from '../components/BannerComponent.vue'\r\nimport ProductCard from '../components/ProductCard.vue'\r\nimport MessageModal from '../components/MessageModal.vue'\r\nexport default {\r\n  data () {\r\n    return {\r\n      isLoading: false,\r\n      status: {\r\n        loadingItem: ''\r\n      },\r\n      products: [],\r\n      likes: [],\r\n      msg: {\r\n        title: '我的最愛'\r\n      },\r\n      orderSearch: '',\r\n      orderShow: false,\r\n      order: {\r\n        user: {}\r\n      },\r\n      msgModal: {\r\n        title: '找不到訂單...',\r\n        success: ''\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    BannerComponent,\r\n    ProductCard,\r\n    MessageModal\r\n  },\r\n  methods: {\r\n    getLikesIdList,\r\n    updateLikesList,\r\n    isInLikeList (id) {\r\n      const likesIdList = this.getLikesIdList()\r\n      return likesIdList.includes(id)\r\n    },\r\n    getLikes () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`\r\n      this.$http.get(api).then((res) => {\r\n        console.log('items', res.data.products)\r\n        const products = JSON.parse(JSON.stringify(res.data.products))\r\n        const likesIdList = JSON.parse(localStorage.getItem('tacos-likesList')) || []\r\n        const likes = []\r\n        if (likesIdList.length > 0) {\r\n          likesIdList.forEach(id => {\r\n            console.log(id)\r\n            products.forEach(item => {\r\n              if (item.id === id) likes.push(item)\r\n            })\r\n          })\r\n          this.likes = [...likes]\r\n          this.isLoading = false\r\n        }\r\n      })\r\n    },\r\n    updateLikes (item) {\r\n      this.isLoading = true\r\n      const likesIdList = JSON.parse(localStorage.getItem('tacos-likesList')) || []\r\n      if (likesIdList.includes(item.id)) {\r\n        likesIdList.splice(likesIdList.indexOf(item.id), 1)\r\n      } else {\r\n        likesIdList.push(item.id)\r\n      }\r\n      localStorage.setItem('tacos-likesList', likesIdList)\r\n      emitter.emit('updateLikes')\r\n      this.getLikes()\r\n    },\r\n    addCart (item) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      const messageComponent = this.$refs.messageModal\r\n      this.status.loadingItem = item.id\r\n      const cart = {\r\n        product_id: item.id,\r\n        qty: 1\r\n      }\r\n      this.$http.post(api, { data: cart }).then((res) => {\r\n        this.msgModal.product = item\r\n        this.$httpMessageState(res, '加入購物車')\r\n        this.msgModal.success = res.data.success\r\n        this.msgModal.title = res.data.message\r\n        emitter.emit('updateCart')\r\n        this.status.loadingItem = ''\r\n        messageComponent.showModal()\r\n      })\r\n    },\r\n    getProduct (id) {\r\n      this.$router.push(`/user/product/${id}`)\r\n    }\r\n  },\r\n  created () {\r\n    this.getLikes()\r\n    emitter.on('updateLikes', () => {\r\n      this.getLikes()\r\n    })\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserLikesList.vue?vue&type=template&id=3b2a5174\"\nimport script from \"./UserLikesList.vue?vue&type=script&lang=js\"\nexport * from \"./UserLikesList.vue?vue&type=script&lang=js\"\n\nimport \"./UserLikesList.vue?vue&type=style&index=0&id=3b2a5174&lang=scss\"\n\nimport exportComponent from \"D:\\\\阿德\\\\gitHub\\\\web-shop-demo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_2","_toDisplayString","$props","title","props","__exports__","render","style","role","_hoisted_21","_hoisted_25","_hoisted_26","_createVNode","_component_banner_component","msg","$data","length","_hoisted_4","_component_router_link","to","_Fragment","_renderList","item","key","id","backgroundImage","imageUrl","category","type","onClick","$options","price","_ctx","currency","origin_price","_hoisted_18","disabled","status","loadingItem","_hoisted_22","_hoisted_27","_component_product_card","_component_message_modal","ref","data","isLoading","products","likes","orderSearch","orderShow","order","user","msgModal","success","components","BannerComponent","ProductCard","MessageModal","methods","getLikesIdList","updateLikesList","isInLikeList","likesIdList","this","includes","getLikes","api","$http","get","then","res","console","log","JSON","parse","stringify","localStorage","getItem","forEach","push","updateLikes","splice","indexOf","setItem","emitter","addCart","messageComponent","$refs","messageModal","cart","product_id","qty","post","product","$httpMessageState","message","showModal","getProduct","$router","created"],"sourceRoot":""}