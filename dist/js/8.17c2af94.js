"use strict";(self["webpackChunkweb_shop_demo"]=self["webpackChunkweb_shop_demo"]||[]).push([[8],{6008:function(t,e,r){r.r(e),r.d(e,{default:function(){return I}});var s=r(3396),l=r(9242),d=r(7139);const n={class:"my-5 row justify-content-center"},o={class:"table align-middle"},a=(0,s._)("thead",null,[(0,s._)("th",null,"品名"),(0,s._)("th",null,"數量"),(0,s._)("th",null,"單價")],-1),u={class:"text-end"},i=(0,s._)("td",{colspan:"2",class:"text-end"},"總計",-1),c={class:"text-end"},_={class:"table"},h=(0,s._)("th",{width:"100"},"Email",-1),p=(0,s._)("th",null,"姓名",-1),w=(0,s._)("th",null,"收件人電話",-1),g=(0,s._)("th",null,"收件人地址",-1),m=(0,s._)("th",null,"付款狀態",-1),b={key:0,class:"text-success"},y={key:1},v={class:"text-end"},f={key:0,class:"btn btn-danger"},k=(0,s.Uk)("繼續購物");function z(t,e,r,z,$,x){const D=(0,s.up)("loading-component"),O=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(D,{active:$.isLoading},null,8,["active"]),(0,s._)("div",n,[(0,s._)("form",{onSubmit:e[0]||(e[0]=(0,l.iM)(((...t)=>x.payOrder&&x.payOrder(...t)),["prevent"])),class:"col-md-6"},[(0,s._)("table",o,[a,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)($.order.products,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id},[(0,s._)("td",null,(0,d.zw)(e.product.title),1),(0,s._)("td",null,(0,d.zw)(e.product.qty)+" / "+(0,d.zw)(e.product.unit),1),(0,s._)("td",u,(0,d.zw)(t.$filters.currency(e.product.price)),1)])))),128))]),(0,s._)("tfoot",null,[(0,s._)("tr",null,[i,(0,s._)("td",c,(0,d.zw)($.order.total),1)])])]),(0,s._)("table",_,[(0,s._)("tbody",null,[(0,s._)("tr",null,[h,(0,s._)("td",null,(0,d.zw)($.order.user.email),1)]),(0,s._)("tr",null,[p,(0,s._)("td",null,(0,d.zw)($.order.user.name),1)]),(0,s._)("tr",null,[w,(0,s._)("td",null,(0,d.zw)($.order.user.tel),1)]),(0,s._)("tr",null,[g,(0,s._)("td",null,(0,d.zw)($.order.user.address),1)]),(0,s._)("tr",null,[m,(0,s._)("td",null,[$.order.is_paid?((0,s.wg)(),(0,s.iD)("span",b,"付款完成 "+(0,d.zw)(t.$filters.date($.order.paid_date)),1)):((0,s.wg)(),(0,s.iD)("span",y,"尚未付款"))])])])]),(0,s._)("div",v,[$.order.is_paid?((0,s.wg)(),(0,s.j4)(O,{key:1,class:"btn btn-primary",to:"/user/cart"},{default:(0,s.w5)((()=>[k])),_:1})):((0,s.wg)(),(0,s.iD)("button",f,"確認付款去"))])],32)])],64)}var $=r(5820),x={data(){return{orderId:"",order:{user:{}},isLoading:!1}},methods:{getOrder(){const t=`https://vue3-course-api.hexschool.io/api/steven-vue3-demo/order/${this.orderId}`;this.isLoading=!0,this.$http.get(t).then((t=>{console.log(t.data.order),t.data.success&&(this.order=t.data.order,this.isLoading=!1)}))},payOrder(){const t=`https://vue3-course-api.hexschool.io/api/steven-vue3-demo/pay/${this.orderId}`;this.isLoading=!0,this.$http.post(t).then((t=>{console.log(t),t.data.success&&(this.getOrder(),this.$httpMessageState(t,"付款"),$.Z.emit("updateCart"))}))}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},D=r(89);const O=(0,D.Z)(x,[["render",z]]);var I=O}}]);
//# sourceMappingURL=8.17c2af94.js.map